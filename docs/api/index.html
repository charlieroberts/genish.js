<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - Postman Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-arithmetic.html">arithmetic</a><ul class='methods'><li data-type='method'><a href="module-arithmetic.html#.abs">abs</a></li><li data-type='method'><a href="module-arithmetic.html#.add">add</a></li><li data-type='method'><a href="module-arithmetic.html#.div">div</a></li><li data-type='method'><a href="module-arithmetic.html#.mod">mod</a></li><li data-type='method'><a href="module-arithmetic.html#.mul">mul</a></li><li data-type='method'><a href="module-arithmetic.html#.pow">pow</a></li><li data-type='method'><a href="module-arithmetic.html#.sub">sub</a></li></ul></li><li><a href="module-buffer.html">buffer</a><ul class='methods'><li data-type='method'><a href="module-buffer.html#.data">data</a></li><li data-type='method'><a href="module-buffer.html#.env">env</a></li><li data-type='method'><a href="module-buffer.html#.peek">peek</a></li><li data-type='method'><a href="module-buffer.html#.poke">poke</a></li></ul></li><li><a href="module-comparison.html">comparison</a><ul class='methods'><li data-type='method'><a href="module-comparison.html#.eq">eq</a></li><li data-type='method'><a href="module-comparison.html#.eq">eq</a></li><li data-type='method'><a href="module-comparison.html#.gt">gt</a></li><li data-type='method'><a href="module-comparison.html#.gt">gt</a></li><li data-type='method'><a href="module-comparison.html#.gte">gte</a></li><li data-type='method'><a href="module-comparison.html#.gtp">gtp</a></li><li data-type='method'><a href="module-comparison.html#.lte">lte</a></li><li data-type='method'><a href="module-comparison.html#.ltp">ltp</a></li><li data-type='method'><a href="module-comparison.html#.max">max</a></li><li data-type='method'><a href="module-comparison.html#.neq">neq</a></li></ul></li><li><a href="module-control.html">control</a><ul class='methods'><li data-type='method'><a href="module-control.html#.bang">bang</a></li><li data-type='method'><a href="module-control.html#.input">input</a></li><li data-type='method'><a href="module-control.html#.param">param</a></li></ul></li><li><a href="module-envelope.html">envelope</a><ul class='methods'><li data-type='method'><a href="module-envelope.html#.ad">ad</a></li><li data-type='method'><a href="module-envelope.html#.adsr">adsr</a></li><li data-type='method'><a href="module-envelope.html#.attack">attack</a></li><li data-type='method'><a href="module-envelope.html#.decay">decay</a></li><li data-type='method'><a href="module-envelope.html#.t60">t60</a></li></ul></li><li><a href="module-feedback.html">feedback</a><ul class='methods'><li data-type='method'><a href="module-feedback.html#.delay">delay</a></li><li data-type='method'><a href="module-feedback.html#.history">history</a></li></ul></li><li><a href="module-filter.html">filter</a><ul class='methods'><li data-type='method'><a href="module-filter.html#.dcblock">dcblock</a></li><li data-type='method'><a href="module-filter.html#.slide">slide</a></li></ul></li><li><a href="module-integrator.html">integrator</a><ul class='methods'><li data-type='method'><a href="module-integrator.html#.accum">accum</a></li><li data-type='method'><a href="module-integrator.html#.counter">counter</a></li></ul></li><li><a href="module-logic.html">logic</a><ul class='methods'><li data-type='method'><a href="module-logic.html#.and">and</a></li><li data-type='method'><a href="module-logic.html#.bool">bool</a></li><li data-type='method'><a href="module-logic.html#.not">not</a></li></ul></li><li><a href="module-range.html">range</a><ul class='methods'><li data-type='method'><a href="module-range.html#.clamp">clamp</a></li><li data-type='method'><a href="module-range.html#.fold">fold</a></li><li data-type='method'><a href="module-range.html#.wrap">wrap</a></li></ul></li><li><a href="module-routing.html">routing</a><ul class='methods'><li data-type='method'><a href="module-routing.html#.conditional">conditional</a></li><li data-type='method'><a href="module-routing.html#.gate">gate</a></li><li data-type='method'><a href="module-routing.html#.ifelse">ifelse</a></li><li data-type='method'><a href="module-routing.html#.selector">selector</a></li><li data-type='method'><a href="module-routing.html#.switch">switch</a></li></ul></li><li><a href="module-trigonometry.html">trigonometry</a><ul class='methods'><li data-type='method'><a href="module-trigonometry.html#.acos">acos</a></li><li data-type='method'><a href="module-trigonometry.html#.asin">asin</a></li><li data-type='method'><a href="module-trigonometry.html#.atan">atan</a></li><li data-type='method'><a href="module-trigonometry.html#.cos">cos</a></li><li data-type='method'><a href="module-trigonometry.html#.sin">sin</a></li><li data-type='method'><a href="module-trigonometry.html#.tan">tan</a></li></ul></li><li><a href="module-waveform.html">waveform</a><ul class='methods'><li data-type='method'><a href="module-waveform.html#.cycle">cycle</a></li><li data-type='method'><a href="module-waveform.html#.noise">noise</a></li><li data-type='method'><a href="module-waveform.html#.phasor">phasor</a></li><li data-type='method'><a href="module-waveform.html#.train">train</a></li></ul></li></ul><h3>Namespaces</h3><ul><li><a href="gen.html">gen</a></li><li><a href="utilities.html">utilities</a></li><li><a href="windows.html">windows</a></li></ul><h3>Global</h3><ul><li><a href="global.html#memo">memo</a></li><li><a href="global.html#mix">mix</a></li><li><a href="global.html#mstosamps">mstosamps</a></li><li><a href="global.html#mtof">mtof</a></li><li><a href="global.html#pan">pan</a></li><li><a href="global.html#prop">prop</a></li><li><a href="global.html#rate">rate</a></li><li><a href="global.html#sah">sah</a></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>genish.js</h1><p>A library for generating optimized, single-sample audio callbacks in JavaScript. Inspired by gen~ in Max/MSP.</p>
<h2>try it out</h2><p>http://www.charlie-roberts.com/genish/playground</p>
<p>Genish.js is alpha status and currently runs in Chrome and Firefox.</p>
<h2>what?</h2><p>A little more detail: genish.js will compile per-sample callback functions from a graph. Given the following code:</p>
<pre class="prettyprint source lang-javascript"><code>abs( add( mul(5,2), input() ) )</code></pre><p>...genish will generate the following function.</p>
<pre class="prettyprint source lang-javascript"><code>function gen( in6 ){ 
  'use strict'
  let memory = gen.memory

  gen.out[0]  = gen.abs( (in6 + 10) )

  return gen.out[0]
}</code></pre><p><code>abs</code>, a reference to <code>Math.abs</code>, is assigned as a property to the named <code>gen</code> function as part of the codegen process; this removes the need to look it up in the global scope. genish is also reduces multiplcation of two numbers to a constant. A sine oscillator accepting frequency as an input could be expressed as follows:</p>
<pre class="prettyprint source lang-javascript"><code>frequency = input()
sin( mul( accum( mul( frequency, 1/gen.samplerate ) ), Math.PI * 2 ) )</code></pre><p>... which would then be translated into the following function:</p>
<pre class="prettyprint source lang-javascript"><code>function gen( in0 ){ 
  'use strict'
  let memory = gen.memory

  let accum2_value = memory[0];
  memory[0] += (in0 * 0.000022675736961451248)
  if( memory[0] >= 1 ) memory[0] -= 1
  if( memory[0] &lt; 0 ) memory[0] += 1

  gen.out[0]  = gen.sin( (accum2_value * 6.283185307179586) )

  return gen.out[0]
}</code></pre><p>The sin function is assigned as a property of the named <code>gen</code> function in this example; this limits most objects and functions to an object in the current scope. All memory used in any generated callback (in this case only a single float) is centrally stored in a single Float32Array, which decreases the need for de-referencing throughout the callback and yields improved efficiency.</p>
<h2>use</h2><p>To use genish.js, you need to create an AudioContext and a ScriptProcessor node that will run the functions genish.js creates. Genish includes a <code>utilities</code> object that provides convenience methods for these tasks, as well as inserting generated functions into the callback of the ScriptProcessor. The following example performs the necessary setup and starts a sine oscillator running:</p>
<pre class="prettyprint source lang-javascript"><code> // optionally put all genish object in global namespace
genish.export( window )

utilities.createContext().createScriptProcessor()

// second argument prints generated function body to console
utilities.playGraph( cycle( 330 ), true )</code></pre><h2>develop &amp; test</h2><p>The build script is a gulpfile. With gulp installed, run <code>gulp</code> or <code>gulp watch</code> in the top level of the repo. <code>gulp test</code> will run the testing suite (mocha).</p></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated at Thu Jan 19 2017 21:36:40 GMT+0100 (CET)
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>