<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>envelope - Postman Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-arithmetic.html">arithmetic</a><ul class='methods'><li data-type='method'><a href="module-arithmetic.html#.abs">abs</a></li><li data-type='method'><a href="module-arithmetic.html#.add">add</a></li><li data-type='method'><a href="module-arithmetic.html#.div">div</a></li><li data-type='method'><a href="module-arithmetic.html#.mod">mod</a></li><li data-type='method'><a href="module-arithmetic.html#.mul">mul</a></li><li data-type='method'><a href="module-arithmetic.html#.pow">pow</a></li><li data-type='method'><a href="module-arithmetic.html#.sub">sub</a></li></ul></li><li><a href="module-buffer.html">buffer</a><ul class='methods'><li data-type='method'><a href="module-buffer.html#.data">data</a></li><li data-type='method'><a href="module-buffer.html#.env">env</a></li><li data-type='method'><a href="module-buffer.html#.peek">peek</a></li><li data-type='method'><a href="module-buffer.html#.poke">poke</a></li></ul></li><li><a href="module-comparison.html">comparison</a><ul class='methods'><li data-type='method'><a href="module-comparison.html#.eq">eq</a></li><li data-type='method'><a href="module-comparison.html#.eq">eq</a></li><li data-type='method'><a href="module-comparison.html#.gt">gt</a></li><li data-type='method'><a href="module-comparison.html#.gt">gt</a></li><li data-type='method'><a href="module-comparison.html#.gte">gte</a></li><li data-type='method'><a href="module-comparison.html#.gtp">gtp</a></li><li data-type='method'><a href="module-comparison.html#.lte">lte</a></li><li data-type='method'><a href="module-comparison.html#.ltp">ltp</a></li><li data-type='method'><a href="module-comparison.html#.max">max</a></li><li data-type='method'><a href="module-comparison.html#.neq">neq</a></li></ul></li><li><a href="module-control.html">control</a><ul class='methods'><li data-type='method'><a href="module-control.html#.bang">bang</a></li><li data-type='method'><a href="module-control.html#.input">input</a></li><li data-type='method'><a href="module-control.html#.param">param</a></li></ul></li><li><a href="module-envelope.html">envelope</a><ul class='methods'><li data-type='method'><a href="module-envelope.html#.ad">ad</a></li><li data-type='method'><a href="module-envelope.html#.adsr">adsr</a></li><li data-type='method'><a href="module-envelope.html#.attack">attack</a></li><li data-type='method'><a href="module-envelope.html#.decay">decay</a></li><li data-type='method'><a href="module-envelope.html#.t60">t60</a></li></ul></li><li><a href="module-feedback.html">feedback</a><ul class='methods'><li data-type='method'><a href="module-feedback.html#.delay">delay</a></li><li data-type='method'><a href="module-feedback.html#.history">history</a></li></ul></li><li><a href="module-filter.html">filter</a><ul class='methods'><li data-type='method'><a href="module-filter.html#.dcblock">dcblock</a></li><li data-type='method'><a href="module-filter.html#.slide">slide</a></li></ul></li><li><a href="module-integrator.html">integrator</a><ul class='methods'><li data-type='method'><a href="module-integrator.html#.accum">accum</a></li><li data-type='method'><a href="module-integrator.html#.counter">counter</a></li></ul></li><li><a href="module-logic.html">logic</a><ul class='methods'><li data-type='method'><a href="module-logic.html#.and">and</a></li><li data-type='method'><a href="module-logic.html#.bool">bool</a></li><li data-type='method'><a href="module-logic.html#.not">not</a></li></ul></li><li><a href="module-range.html">range</a><ul class='methods'><li data-type='method'><a href="module-range.html#.clamp">clamp</a></li><li data-type='method'><a href="module-range.html#.fold">fold</a></li><li data-type='method'><a href="module-range.html#.wrap">wrap</a></li></ul></li><li><a href="module-routing.html">routing</a><ul class='methods'><li data-type='method'><a href="module-routing.html#.conditional">conditional</a></li><li data-type='method'><a href="module-routing.html#.gate">gate</a></li><li data-type='method'><a href="module-routing.html#.ifelse">ifelse</a></li><li data-type='method'><a href="module-routing.html#.selector">selector</a></li><li data-type='method'><a href="module-routing.html#.switch">switch</a></li></ul></li><li><a href="module-trigonometry.html">trigonometry</a><ul class='methods'><li data-type='method'><a href="module-trigonometry.html#.acos">acos</a></li><li data-type='method'><a href="module-trigonometry.html#.asin">asin</a></li><li data-type='method'><a href="module-trigonometry.html#.atan">atan</a></li><li data-type='method'><a href="module-trigonometry.html#.cos">cos</a></li><li data-type='method'><a href="module-trigonometry.html#.sin">sin</a></li><li data-type='method'><a href="module-trigonometry.html#.tan">tan</a></li></ul></li><li><a href="module-waveform.html">waveform</a><ul class='methods'><li data-type='method'><a href="module-waveform.html#.cycle">cycle</a></li><li data-type='method'><a href="module-waveform.html#.noise">noise</a></li><li data-type='method'><a href="module-waveform.html#.phasor">phasor</a></li><li data-type='method'><a href="module-waveform.html#.train">train</a></li></ul></li></ul><h3>Namespaces</h3><ul><li><a href="gen.html">gen</a></li><li><a href="utilities.html">utilities</a></li><li><a href="windows.html">windows</a></li></ul><h3>Global</h3><ul><li><a href="global.html#memo">memo</a></li><li><a href="global.html#mix">mix</a></li><li><a href="global.html#mstosamps">mstosamps</a></li><li><a href="global.html#mtof">mtof</a></li><li><a href="global.html#pan">pan</a></li><li><a href="global.html#prop">prop</a></li><li><a href="global.html#rate">rate</a></li><li><a href="global.html#sah">sah</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">envelope</h1>
    

    




<section>

<header>
    
        
    
</header>

<article>
    <div class="container-overview">
    
        

        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".ad"><span class="type-signature">(static) </span>ad<span class="signature">(attackTime, decayTime, props<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {ugen}</span></h4>

    



<div class="description">
    <p>Creates an envelope with an attack and a decay stage, both measured in samples.</p>
<h4>Properties</h4><ul>
<li><code>shape</code> <em>string</em> ('linear' or 'exponential', default 'exponental') determines the shape of the attack / decay.</li>
<li><code>alpha</code> <em>number</em> (default 5) An extra number used to determine windowing. In the case of 'exponential' envelopes, this determines the amount of curvature in the envelope. For 'linear' envelopes this number has no effect.</li>
</ul>
<h4>Methods</h4><ul>
<li><code>trigger</code>: Re-trigger the envelope.</li>
<li><code>isComplete</code>: test if the envelope is completed</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>attackTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">ugen</span>
|

<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Attack time measured in samples, defaults to 44100.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>decayTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">ugen</span>
|

<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Decay time measured in samples, defaults to 44100.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>props</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    { shape: 'exponential', alpha: 5 }
                
                </td>
            

            <td class="description last"><p>the initial property values</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">ugen</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>myenv = ad( 44, 88200 )
play(
  mul( myenv, cycle( 330 ) )
)
// wait some time for decay and then run to re-trigger
myenv.trigger()</code></pre>



        
            

    

    <h4 class="name" id=".adsr"><span class="type-signature">(static) </span>adsr<span class="signature">(attackTime<span class="signature-attributes">opt</span>, decayTime<span class="signature-attributes">opt</span>, sustainTime<span class="signature-attributes">opt</span>, sustainLevel<span class="signature-attributes">opt</span>, releaseTime<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Creates an envelope with attack, decay, sustatin and release stages, with
each duration measured in samples. Envelopes can automatically advance
through their entirety (default behavior) or can stop at the sustain stage
and what for a command to advance by setting the <code>triggerRelease</code> property to
a value of <code>1</code>.</p>
<h4>Properties</h4><ul>
<li><code>shape</code> <em>string</em> (default 'exponental') determines the shape of the attack / decay / release.</li>
<li><code>alpha</code> <em>number</em> (default 5) An extra number used to determine windowing. In the case of 'exponential' envelopes, this determines the amount of curvature in the envelope. For 'linear' envelopes this number has no effect.</li>
<li><code>triggerRelease</code> <em>boolean</em> (default false) This property determines if the envelope waits for a <code>release()</code> message before terminating the sustain segment and advancing to the release segment. By setting this value to <code>1</code>, you can easily script release of the envelope to depend on user interaction. When <code>releaseTrigger</code> is true, the <code>sustainTime</code> input has no effect on envelope.</li>
</ul>
<h4>Methods</h4><ul>
<li><code>trigger</code>: Re-trigger the envelope.</li>
<li><code>release</code>: Move from the sustain stage to the release stage of the envelope. This method only has effect if the <code>triggerRelease</code> property to set to <code>true</code> on instantiation. Note that calling this method will not skip attack or decay stages... if called during the attack or decay stage the envelope will simply bypass the sustain stage and continue straight to the release after the decay is completed.</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>attackTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">ugen</span>
|

<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Attack time measured in samples, defaults to <code>gen.samplerate / 1000</code> (one ms).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>decayTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">ugen</span>
|

<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Decay time measured in samples, defaults to <code>gen.samplerate / 2</code> (half a second).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sustainTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">ugen</span>
|

<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Sustain time measured in samples, defaults to <code>gen.samplerate</code> (one second).</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sustainLevel</code></td>
            

            <td class="type">
            
                
<span class="param-type">ugen</span>
|

<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Each stage of the envelope is controlled via a wavetable; the sustainLevel property dictates at one point in the wavetable the envelope rests before releasing. Thus, a value of .5 does not mean that the output of the envelope during sustain will be .5 (unless enveloping for the adsr is linear)... it will instead depend on the type enveloping used. Default is .6.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>releaseTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">ugen</span>
|

<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Release time measured in samples, defaults to <code>gen.samplerate</code> (one second).</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>myenv = adsr( 44, 22050, 22050, .6, 44100, { releaseTrigger:true })
play(
  mul( myenv, cycle( 330 ) )
)
// wait until sustain and then run next line to release
myenv.release()
// re-trigger
myenv.retrigger()</code></pre>



        
            

    

    <h4 class="name" id=".attack"><span class="type-signature">(static) </span>attack<span class="signature">(attackTime<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Attack
FIXME: write documentation</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>attackTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">ugen</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    44100
                
                </td>
            

            <td class="description last"><p>The time (in samples) to fade 1 by 60 dB.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>t60</li>
        </ul>
    </dd>
    

    
</dl>
















        
            

    

    <h4 class="name" id=".decay"><span class="type-signature">(static) </span>decay<span class="signature">(decayType<span class="signature-attributes">opt</span>, props<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {ugen}</span></h4>

    



<div class="description">
    <p>Decay
FIXME: add documentation</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>decayType</code></td>
            

            <td class="type">
            
                
<span class="param-type">ugen</span>
|

<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    44100
                
                </td>
            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>props</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    { initValue: 1}
                
                </td>
            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">ugen</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".t60"><span class="type-signature">(static) </span>t60<span class="signature">(fadeTime)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p><code>t60</code> provides a multiplier that, when applied to a signal every sample,
fades it by 60db (at which point it is effectively inaudible). Although the
example below shows <code>t60</code> in action, it would actually be much more efficient
to calculate t60 once since the time used (88200) is static.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fadeTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">ugen</span>


            
            </td>

            

            

            <td class="description last"><p>The time (in samples) to fade 1 by 60 dB.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>lastsample = ssd(1)
// update fade with previous output * t60
// we could also use: Math.exp( -6.907755278921 / 88200 ) instead of t60( 88200 )
fade = mul( lastsample.out, t60( 88200 ) )
// record current value of fade
lastsample.in( fade )
play( mul( lastsample.out, cycle( 330 ) ) )</code></pre>



        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated at Thu Jan 19 2017 21:36:40 GMT+0100 (CET)
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>